(function(e,t,n){"use strict";e.translate={};var r=e('<div class="translating">Translating</div>'),i=function(){},s={collect:function(t){var n=t.children(),r=[];if(n.size()>0){n.each(function(){var t=e(this);r.push(encodeURIComponent(t.text().trim()))})}else{r.push(encodeURIComponent(t.text().trim()))}return r},done:function(t,n){var r=t.children();if(r.size()>0){r.each(function(t){e(this).html(n[t])})}else if(t.size()>0){t.each(function(t){e(this).html(n[t])})}else{t.html(n[0])}},parseResonse:function(e){var t=[],n=e.data.translations;for(var r=0;r<n.length;r++){t.push(n[r].translatedText)}return t},showProgress:function(e){r.insertBefore(e)},removeProgress:function(e){e.prev().remove()},setDefaults:function(){if(typeof e.translate.progressIndicator!=="undefined"){if(typeof e.translate.progressIndicator==="object"){r=e.translate.progressIndicator}else{r=e(e.translate.progressIndicator)}delete e.translate.progressIndicator}if(typeof e.translate.onComplete!=="undefined"){i=e.translate.onComplete;delete e.translate.onComplete}}};e.fn.translate=function(t){if(!this.length){e.error("Element not found: '"+this.selector+"'")}e.translate=e.extend(t,e.translate);s.setDefaults();var n=this,r=s.collect(this);s.showProgress(n);return e.get("https://www.googleapis.com/language/translate/v2?q="+r.join("&q="),e.translate).done(function(e){s.removeProgress(n);s.done(n,s.parseResonse(e));i()}).fail(function(t){s.removeProgress(n);e.error(t.responseText)})}})(jQuery,window)